＃東京ジュゲム

　序：問題提起、事実証明。
　破：思考、想起転回、結論。
　急：次話への接続。雰囲気。

＃左うちわ

　とある広い一室。中央はオープンスペースに机のみ。向こうにはセパレーションの個室と、一番奥に完全な個室がある。
　オープンスペースは会議に使われ、同時にオフィスがいかに広いかに一役買っている。セパレーションのそれは、開発用の個室で、完全な個室とはいわゆる、社長室のことである。
「湯水のように使って良いぞ、お前たち」
　御曹司が、笑いながら、皆に語る。
「ダメです、ダメです」
　慌てて、隣りにいた秘書らしき女性が、言葉を打ち消した。
「なんじゃ、クロバラ。社畜共が気兼ねなく開発できる環境を作るのは、トップの役目じゃ」
「社畜って、目の前でいうのもダメです」
「そうか。社畜というのは流行り言葉ではないのか、ほら社員など使い古された言葉じゃろう？」
「では、せめて、開発メンバーとか、部下とか、でお願いします」
「おうおう、よいよい」
　部下共――。
　御曹司は、左うちわで頷いた。
　東京ジュゲム。迷宮探索ゲームを専門に開発するために立ち上げた、ゲーム開発会社である。
　それは趣味の実現で、その趣味とは、もちろん、御曹司個人の趣味である。
　東京ジュゲムは、親会社からの完全子会社というのが実態であるが、親会社はアパレルの大手で、ゲームとは全く関係ない。
　子供へのお小遣いのように――。東京ジュゲムはそんな手軽さで設立されたのであった。

　社長らしき御曹司が去った後――。
「さ、社長の話が終わったようなので、こちらに視線を戻して欲しい」
　ホワイトボードの前で構えるのはビキだ。
　東京ジュゲムの頼れる開発リーダーの女。鉄乙女との愛称もあるが、比較的好意的なものだ。
「仮タイトルを先に決めようと思ったが、気が変わった。アジャイルでいく」
　ビキはそう告げた。
　アジャイルとは、開発の手法で、同じ工程を何度も行い、徐々に精度をあげていく手法だ。
　これは、壁打ちに代表される、もやもやとしたイメージを固化させるために使われる。
　彩色を知る者なら、全体にとりあえず色を置き、徐々に鮮明にする作業と云えば、アジャイルとは、まさにその手法だった。
　この手法には、順序というものが、存在しない。
　渦巻き。渦巻きのような。
　ものづくりには手順が大事であるが、最初の最初、アイデアの部分では手順というのは、まったくの阻害因子でしかない。
　アジャイルはオープンな発想を提供すると、ビキは思っている。
　御曹司。社長なる者の放言を聞いて、ビキはなんとなくそう思ったのだ。
「とりあえず、タイトルの絵は、緑の竜で、赤い舌を題して、背景はできるだけ黒を基調にして、タイトルコール。その後は、スタートとオプションの選択肢があればいいかな」
　ユサが、多くの過程を飛ばし、そう告げた。
　しかし、誰もがよく分かるものだ。
「できれば、早い内に、冒険者用の施設を固定して欲しいね」
「それは、悪くないな」
　ユサは、プログラマである。それもひとりでなんでも作るような者で、御曹司が最初に引き抜いた者とは、ユサである。
　ビキは、ユサの言を受け、
「ウィザードリィでいいか」
　そう呟きながら件の施設をホワイトボードに書き記した。
　冒険者の酒場
　宿屋
　商店
　寺院
　王宮
　街外れ
「街外れには――」
　迷宮
　訓練場
「ウィザードリィに王宮ないよ」
「どの道、必要だろう」
「まあね」
「はい」
「では――」
　手を挙げたのは、白いふわふわした生き物だ。
　ルシーナ・ルッキーナ・シルベリウス。
　非常に長い、クレジット名を持つ、シナリオ担当である。
「世界樹じゃないの？」
「ああ、最近は世界樹のほうが、メジャーだな」
「エルミナも僕の中では、かなりメジャーなんだけど」
「うむ。そうか――」
　ビキは話のピントをあわせるために、参考として、と書き加えた。
　そして、その下に、
　ウィザードリィ
　世界樹
　エルミナージュ
　を追加する。
　この開発メンバーの中では迷宮探索ＲＰＧの代表格とされているものだ。
「なにも、迷宮探索ゲームをゼロから作る必要はない。巨人の肩に乗るといえば、必要なことだと思う。その中で、ウィザードリィ、世界樹、エルミナージュはお手本にできるものだ。最初の認識はこのあたりにしようか」
「ルナティックドーン」
「あまり増えると、話が進まんぞ」
　そういいながらも、ビキはユサの発言を加えた。
　そして、白いふわふわした生き物に促す。
「ああ、うんとね。世界樹だとね、宿屋が寺院を兼務して、蘇生の煩わしさを半減させてね、あと、荷物預かりなんかもあるんだけどね。こうすると、ウィザードリィだと、街外れが、別ページにあるけど、統一できるんだよ」
「でも、迷宮って街外れにあるよね」
「いえいえ、ダンジョン・アンド・ドラゴンズなんかでは、酒場に大穴が空いていて、そこが迷宮の入り口になってたりするんだよ。サプリメントのほうだけどね」
「つまり、プレイヤーが楽にできるほうがいいということだな」
「そうそう。一番下に、迷宮があればいいんだよ。とにかく街から早く出て、迷宮探索させるのが、本題なんだから」
「では、街は一枚絵で完結させる」
　ビキはひとつ決めた。
「マドウさんも――」
　そうすっと、手を挙げたのは、マドウという名の少女。ＲＰＧの大半で、マジックユーザを使う、根っからの魔法好きである。
　東京ジュゲムの中では、何か役割があるわけではないが、いるといないとでは出来が違う、不思議な役割をする者だ。
「マドウさんは、エルミナージュとかルナティックドーンあたりは、前の二つよりも好きなのですが、それをですね、マドウさんなりに考えてみますと、世界地図の有無かな、と思うんですよ。マドウさんは、フィールド移動の是非を云っているわけじゃないですよ。フィールド移動は無駄が多いので省きたいというのが、迷宮探索ゲームの基本ですから、そこに基本は置いています」
　そう、ひとつ断り――。
「それで、街はひとつでいいと思うのですが、迷宮は幾つもあったほうが、広がりがでると思います。マドウさんは、平日の二時間ぐらいでクリアできるような、ショートシナリオとかも大好きですからね。あれですよ、世界樹の五番は、あれば全部乗っけた作品だったのですが、あまりにも長すぎて、少し疲れてしまいました」
「ああ、あれ、真面目にやったら百時間だね」
　ユサが同意する。
　多くのゲームのクリア時間は業界内では三〇時間が目安である。
「街画面の一番下の選択肢は、迷宮へ、ではなく、世界地図へ、と云いたいのか」
「ああ、そういうのでもいいかと。マドウさんのイメージとしては、タイトルがあって、シナリオ選択があって、シナリオに準じた街と迷宮があれば」
「世界地図あるなら、大陸とかいるよね。じゃあねウォーターワールドで、世界には大陸がなくて、それは古い時代に何かあったからで、でも人間たちは叡智を振り絞ったり、神と誓約してお願いしたりして、浮遊大陸を空に浮かばせて、飛空艇の技術は浮遊大陸時代には必須だったからそれなりに発展しているの。ガス気球ね。スチームパンクじゃなくて。今の時代では、その浮遊大陸時代の浮遊大陸のひとつが、落ちて、大陸があるの。これがいわゆる冒険の舞台。名前は、イグリス大陸。ちなみにイグリスっていうのは、今時代において、あ、今時代って鉄の時代ね。鉄の時代にこの大陸を最初に統一した巨大帝国の名前で、初代皇帝の名前だよ。今はイグリス帝国ないけど」
　白いふわふわした生き物は、そして、ドーナツを咥えて、仕事した感を満喫した。
「ふむ。大陸浮いてるのか」
「それは、見た目としてはいいけど、僕は、浮遊大陸って結構ありがちだから、もうひとつ工夫があるといいと思うね」
「アイデアは？」
「そうだね。大陸が浮遊するんじゃなくて、迷宮が浮遊したらどうだろう？　なんか不思議だけど、そういうものだって、この世界では認識されてるとか」
「浮遊迷宮世界観。新しいかも」
　そうして、一口にドーナツを食べ終え、白いふわふわした生き物は加えた。
「ウォーターワールドなしで。でも、世界地図の四方には、遡る滝があって、これが世界の境界を決めていて、つまり、球体世界じゃないってことね。大河をこぼさず支えているのが、この逆流する滝で、端のほうには逆流してるから渦が巻いてたりするよ、細かいけどね。で、それが世界の端にあって、その落ちることのできない滝の下には、ナラクとかシェオルと呼ばれている異界があって、浮遊迷宮は、そこからやってくると云われております。しかし、実態はほぼ謎マル」
「迷宮攻略しやすい」
「というよりは、探索されていない迷宮が登場しやすいな」
「世界地図に大陸あるんだよね」
「あ、そうそう。大陸はあるよ。イグリス大陸そのまま採用して、このイグリス大陸もまた、巨大な浮遊迷宮のひとつが堕ちたものと考えられております。なので、浮遊迷宮じゃなくても、イグリス大陸の地下には迷宮があるよ。大陸のあらゆる場所に繋がるような。初代皇帝イグリスは、あらゆる力を使って大陸の覇権を握ったんだよ。おっ、なんか綺麗に繋がった。もう少しいい？」
　白いふわふわした生き物は、そわそわしながら告げる。
「ああ」
「これ、追加の燃料です」
　マドウがドーナツを差し出す。
「うん。堕ちた大陸がイグリス大陸になっていて、その地下には巨大な迷宮があって、初代皇帝の大陸制覇を助けたのが、この巨大迷宮のあらゆる場所を繋ぐ、転移門なんだよ。イグリス帝国が消滅した今では、転移門自体、軍事転用されるから、それぞれの諸国家は破壊する協定を結んでいるの。もちろん、どこも隠したりしているかも知れないけどね。ということで、スチームパンクになりそうな、ガス気球はなし。でもね、浮遊迷宮に向かうためには、ほんのちょっとだけ、浮かびあがる必要があるよね。そこで飛竜、竜騎士です。この大陸では、竜騎士はそれなりに重宝されていて、その国、随一の者が竜騎士になれます。竜騎士といってもね、騎士の数より、竜の数が足りなくてね。ああ、ちなみにこの竜は、下位竜種であるヘミドラゴンで、灰色の体躯を持つ人間が三人も背中に乗れば、一杯になる程度の小型竜ね。で、ヘミドラゴン使います」
「ちょっとまって、迷宮探索するには六人じゃないの？」
「ああ、足りないか」
「とりあえず、今問題となってるのは、浮遊迷宮を登場させるのはいいが、どうやって侵入するのか、という話だな」
「やっぱり気球？」
「では、こうしよう。スチームパンクになりがちな機構のなんらかが登場するのは避けたいということだな」
「そうそう。ハイファンタジーの中のハイファンタジーで。船の大砲がせいぜいだよ。銃を開発するよりマジックユーザ雇ったほうが早いから、魔法によって類似技術の阻害があるの」
「うむ。ガス田は発見されていて、巨大な皮袋をつくる技術もこの世界にはある。ただ、動力的機構は、いまだ、馬や竜が担っている」
「なるほど。ラジャリ。じゃあ飛空艇と云っても、気球の一種で、ヘミドラゴンの鞍と飛空艇をつなげて、空をある程度移動できます」
「ペガサスは？」
「ペガサスいいね」
「では。ヘミドラゴンは山岳地帯に生息していますが、ペガサスも空を飛べるので、一部の国家では、ペガサスが飛空艇を運びます」
「飛空艇というと、機構的意味あいが多いから、変えたほうがいいな」
「じゃあ、浮き馬車、サーベラーで。馬車に楕円状の巨大な皮袋が二ついたものだよ。ひとつ破けても大丈夫な工夫が見られます。サーベラーという名前を知らない冒険者の多くは、巨大な浮袋が二つついた空飛ぶ乗り物、と呼びます。ちなみに、サーベラーは、楕円の浮袋を二つつける工夫をした開発者がつけた名前だよ」
「結構出てきたな」
「頑張った」
「ユサ、どうだ？」
「どうって、プログラム的な話？」
「そうだな。ショートエピソードを有りにすると、保存などが煩雑にならないか？」
「ああ、うん。そうだね。タイトルコールして、そのあとエピソード選択して、問題は時間を置くと、どのエピソードをしていたのか、わからなくなる事かもしれないね。でも、僕はショートエピソードは、その冒険者職を主役にして、活躍させる、という意味で、ゲームシステムをよく知ってもらうには、よい仕組みだと思うね。それに、一度作ってしまえば、いろんなシナリオを組み込める」
「はい」
「じゃあ、ルシーナ・ルッキーナ・シルベリウス」
「エピソードなのかシナリオなのか、統一して欲しい」
「では、シナリオに統一しよう」
「ラジャリ」
「えっと、シナリオに統一？」
「ああ、そうだ。ユサ、可能かどうかは、どうだ？」
「いや、論理機序に従っていれば、できないプログラムって存在しないけどね」
「では、できるということでいいな」
「最初の産みの苦しみは理解してるよ」
「今の話って、ショートシナリオを可能にして、ショートシナリオは冒険者職の理解に充てるってことでいいの？　一八職あったら、一八？」
「それは大変だな。シナリオの総数は最大一〇としよう。シナリオには、ショートシナリオとメインシナリオがあって。ショートシナリオは八、メインシナリオは二つだ。まず、これでいく」
「じゃあ、一八あったらどうするの？」
「ショートシナリオは、既に名前が決まった登場人物三人と、追加で三人にするのはどうだ？」
「むしろ、その冒険者職をメインシナリオで使うようにするために、ショートシナリオを遂行するのがいいと思うね。こうするとさ、ゲームクリアしなくても、最初から全ての冒険者職を使うことができるよ」
「世界樹とか、追加でありますね。三週目から全開放とかですが」
「つまりは、セーブデータは大きく二つあって、システムデータとシナリオデータ。システムデータは、音量とか、冒険者職の開放フラグとか、シナリオデータはキャラクターデータを基準にもろもろ。再度始めようとすると、イベントフラグもクリアできる」
「冒険者転送できないの？」
「できない。できない」
「強くてニューゲームは？」
「その世界で強くてニューゲームはできるよ。キャラクターの生命力とステータスのみ維持して、あとはクリア」
「はい」
「じゃあ、ルシーナ・ルッキーナ・シルベリウス」
「強くてニューゲームのために、イモータルへの道を、本編クリア後に加えます。イモータルへの道を終えた後に、強くてニューゲーム可能です。というか、新たにゲームを始めると、転生したそのキャラクターたちが酒場に居ます」
「じゃあ、装備品も維持しておこうか」
「うんうん。あとはニューキャラつくって、強装備だけ移すとか勝手にして、みたいな」
「そういえば、強くてニューゲームって、誰がするんですか？」
「というより目的だよね」
「いや、苦労して踏破したダンジョンを鼻歌交じりで進みたいのではないか？」
「どちらかというと、経験値倍にして進みたいかも」
「では、イモータルの道、ではなく、願いの道、に改題して、試練を越えたら、転生できるが、そのうち願いがひとつだけ叶う、というのはどうだ？」
「いや、それなら、願いの玉じゃないかな。転生するための裏ボスまでの道は一直線にして、端の部屋に強敵がいて、強敵倒すと、願いの玉、貰える。もちろん、願いの玉を所持していればいるほど、裏ボス強くなるよ。あとは、願いの玉の数だけ、細かく希望が叶う感じで」
「ああ、それいいかも」
「我を通すなら強くあらねばならん人間共よ。グワシャーみたいな」
「グワシャーって？」
「襲いかかる感じを演出してみました」
「グ、グワ――」
　ビキ、ルシーナ・ルッキーナ・シルベリウス、ユサ、マドウ。
　そして。
「グ、グワシャー」
　控えめな絵師のチアーが、最後に主張した。

＃社長室

「わらわは社長室という名称をかえたいと思う」
「では、どういう名前に」
「クロバラや、それがわからぬから聞いておる」
「ああ、聞いてたんですね」
「そうじゃ」
「では、御曹司室なんてどうかしら」
「安直じゃのう」
「じゃあ秘書室」
「秘書か。わらわは、その秘書という言葉自体が淫靡に感じる。秘密の書士じゃ」
「秘書ってただの管理人よね」
「そうじゃのう」
　で、今日の予定は？
　御曹司はそう尋ねた。
「御曹司」
「なんじゃ」
「御曹司に仕事をさせないようにって、云われてるんだけど」
「お主、二重スパイだな」
「三重まで可能よ」
「おお、流石クロバラ」
「まあ、トップが仕事できないほうが、手足はよく動くってことなんだけど。ちなみに予定といえば、一応予定はあるわ」
「ほう。受けて立とう」
　御曹司が、そう云うと、丁度ノックの音がした。
　いざ来いよ――。
　時得たとばかりに御曹司が発言するとドアが開く。
「時間はあるだろうか」
「ええ、どうぞ」
　クロバラは開発リーダーのビキを迎えた。
　ビキが告げるのは、開発タイトルの素案のようなものだ。
　まだ仮タイトルは決まっていない、とビキは始める。
「新規開発タイトルの話をアジャイル的に進めたところ、まず世界観が固まってきた」
「ほう、世界ができたのか？」
「ああ、まだ仮ではあるが、おそらく問題はないと思う。世界は地球儀的な球体ではない。ヘミスフィアに代表される――、北欧神話の世界観に似ているかもしれないな」
「ヘミスフィアとは、何じゃ」
「ワイングラスみたいな感じよ。ほら、北欧神話って生命樹でしょ」
「ああ、うん」
　御曹司は、なんとなく頷いた。
「世界の四方は遡る滝があり、それが並々注がれた大河を支えている」
「こぼれないのかえ？」
「おそらく、こぼれても遡るため、底があっても維持されるだろう」
「それは安泰じゃ」
「世界の四方は、このように滝があるが、その下も想像できるだろう」
「うむ、できるできる。何かあるのじゃな」
「浮遊迷宮は、そこからやってくると云われている」
「ほう、浮遊迷宮か。迷宮が浮くのかえ？」
「名前の通りだ。おそらく本決まりだろう」
「世界の名前は？」
「ああ、世界の名前は決まっていない。だが、物語の舞台はとある大陸になる。この大陸の名称は決まっている」
「当ててみせようぞ」
「ん。ああ――」
「ヘミスフィアじゃ」
「いや、イグリスという大陸だ。名前の由来は最初にこの大陸を制覇したイグリス帝国の名がそのまま使われている。現在は、イグリス帝国はない」
「ほう。では、イグリス大陸に浮遊迷宮が現れるのじゃな」
「そういう事になるな。イグリス大陸もまたもともと浮遊迷宮という話だ。それが堕ちて大陸として存在することになったとされる」
「ほう」
「イグリス大陸にも地下迷宮があるが、多くの迷宮が浮遊しているため、その迷宮に向かうための手段が必要となる。そこで、この大陸ではガス田から集めた気体を巨大な皮袋に詰めて浮かべるサーベラーという飛行物がある」
「飛行物、サーベラーか」
「ああ、サーベラーは名前を知らないものに云わせれば、浮き馬車で、楕円状の巨大な浮袋が二つついた馬車だ。これを牽引する機構的動力までは発展しておらず、時代の動力は未だに、馬、ロバ、生き物だ。しかし、サーベラーに至っては、ヘミドラゴンやペガサスが使われる」
「またヘミか、ヘミとはなんじゃ？」
「ああ、ヘミとは半分とか、小さいとか、そういった意味合いの言葉だな」
「ということは、そのヘミドラゴンは小さいドラゴンということか」
「その通りだ。竜騎士が世界各国の騎士団の象徴としてあり、竜騎士の主だった騎乗物とは、ヘミドラゴンになる。灰色の飛竜だ」
「よし。クロバラ」
「何かしら？」
「ハンコを持てい、大判じゃ」
「作ってないから、拇印にしたら」
「では朱を持てい」
「ナイフでいいかしら」
「ぬ。親指を切れと。それは重大な決意じゃな」
「設定資料、汚さないようにね」
「ぐぬぬ」
「あ、ビキ。あとはこっちでやっておくから、戻っていいわよ。報告ありがとう」
　震えながら親指にナイフを当てようとする御曹司を尻目に、クロバラは退室を促したのだった。

「どうだった？」
　ビキを向かえるは開発メンバーの面々。
　新しい会社である東京ジュゲムは、まだまだ、皆距離感に不安がある。
　近くに社長がいて、報告を社長にするとは、部課長ならともかく、やはり違和感があるのだ。
「まあ、大丈夫なようだな」
　緊張ほどには、役割は大したことはなかった。
「方向は承認されたようだから、続きをしようか」
「ビキさん、いいですか？」
　まず手を上げたのはマドウだ。
「なんだ」
「あのですね。ショートシナリオが八つ、メインシナリオ二つが上限ですよね」
「ああ」
「量としては、多いのでは」
「マドウが云っているのは、シナリオ担当の仕事量だな」
「そうです」
「ん、降りてきたら早いよ」
「降りてこなかったらまずいではないか」
「まあ、そうかも？」
「あ、いいかな？」
「では、ユサ」
「結局、シナリオって云っても、シナリオスクリプトに入れ込むから、その作業って、軽減できると思うね」
「ん。スクリプトまでしなくていい感じ？」
「そうだね、検算っていう意味でも、いいと思う」
「ああ、辻褄的な」
「そうそう」
「とはいうが、ユサ。あと、人間で空いてるのと云えば、センバラキョウジしかいないぞ」
「そういや、センバラキョウジは？」
「センバラキョウジさんは、特権を御曹司から貰っているらしく、必要以上に来なくていいそうです」
　チアーが控えめに告げた。
　絵師のひとりがチアーであるが、魔物の絵はひとりの奇才に委ねられている。
　それが魔物絵師のセンバラキョウジである。
　仕事は早いと云えば早いが、ものぐさで、基本、自分は働きたくないと思う人間だ。
「センバラキョウジを使うのか、ユサ？」
「いや、まさか、ほら、トカゲ居るじゃない」
　ユサは、トカゲと告げた。
「ああ」
　ビキにも心当たりがある。
「ゲームライターのトカゲだな」
「そうそう。トカゲね、シナリオスクリプトできるって、云ってたよ」
「まあ、もともと、ノンプログラマが記述できるのがシナリオスクリプトであるからな。ユサが良いものを作れば、それでもいいのかもしれない」
「なんか、ハードルあげられた感じだね」
　ユサはしかし不敵に笑った。

＃センバラキョウジとトカゲ

＃ユサとシナリオスクリプト

　夜が明け始めると、ユサは作り始めた。
　頭が冴えて眠れないのだ。
　こういう時は、記述するに限る。
　ユサは、まず文字から始めた。
　文字といっても、ユサの認識では、記号である。
　ＡＶ＜＞
　そう、端末にタイピングする。
　一見全く規則性がないが、ユサには上下左右に見えている。
　矢印のようなものだ。
　日本語には沢山の矢印が存在するが、それは日本語が文化的に持つだけで、英語圏では通用しない。
　文字コードと呼ばれるものだが、ローマ字と少しの記号で表したほうが何かと、プログラムの世界は都合が良いのだ。
　ＡＶ＜＞、上下左右、そして北南西東
　ユサが、最初に作り始めたのは、ただ、キーを押すと文字が回転するようなものだ。
　キーとは、ゲームでいうところの、コントローラーのキー。
　しかも使うものは少ない。
　まず、十字キーの左右を押すと、矢印が回転するものを作った。
　これは、右を押すと「Ａ＞Ｖ＜Ａ」と回転するものだ。矢印としては右回りである。
　もう一方の左を押すと「Ａ＜Ｖ＞Ａ」。左回り。
　このただ文字が回転するだけのプログラムに満足すると、次に前進を加えた。
　前進は少し複雑である。マップ上の北が上であるが、視点上は北が上にあることはない。右回転、左回転は、現在の方角を順番通りに回転させるだけだが、前進は、向いてる方角に対して前進である。
　北を向いているのなら、北に前進。東を向いているのなら、東に前進。
　しかし、コントローラーの入力は上下左右である。
　迷宮探索において、自分視点の前進は相対的で、しかし、マップ上の迷宮とは絶対的な座標である。
　ただ文字が回転するだけのプログラムであるが、ユサが作っているのは、迷宮移動の根幹となる移動システムだった。
　
　プログラムの手法には、スケールアップとスケールダウンがある。
　スケールダウンは、関数プログラムであり、比較的古くからあるものだ。
　しかし、プログラムにオブジェクト思考なる、あらゆるものはオブジェクトであるという考え方導入されると、巨大な開発ではスケールアップが採用され始める。
　このスケールアップとは、まず小さい部品を定義して、その部品を使って、より大きなものに拡張することである。小さい部品であるから、そのコード量も小さく、バグが発生しにくい。
「うーん」
　移動システムはできた。
　ユサが唸っているのは、次のような、記号の羅列だ。
　＋＋＋＋＋
　＋Ｖ銅　＋
　＋　＋い＋
　＋あ＋下＋
　＋＋＋＋＋
　ただの羅列ではなく、迷宮の全てとなるものだ。
　まだ、何も出来上がってはいないが、最終的なデータであるところの文字列。
　これは次のように解釈する。
　縦横五マスの迷宮において、矢印の位置にパーティーは立っていて、矢印の方角を向いている。この場合は南である。データ上は北が常に上だ。
　コントローラーですぐに、左右を見渡せば、銅の扉が見える。銅の扉を開けようと思っても、開かない。
　そこで少し探索を始め、南に二歩進む。するとイベントの指定がある。
　指定されたイベントは「あ」だ。
　シナリオスクリプトを読み込み「あ」と書かれたイベントを実行する。
　このイベントは、朽ち果てた躯があるだけ。
　パーティーがその躯を調べると、躯だと思われていたそれが、カタカタと動き出しパーティーを襲う。ボーンアンデットとの戦闘だ。
　ボーンアンデットとの戦闘の結果により、銅の鍵を入手することができる。
　アイテムフラグに、銅の鍵を加える。
　そうして、また迷宮の探索を進める。
　最初の位置に戻ってくると、東の方に、銅の扉がある。戦闘後に入手した銅の鍵を使うと、扉は開く。
　その扉の先は部屋になっていて、遠くに下り階段が見える。
　しかし、目の前に強大な魔物らしきものが立ちふさがっている。
　指定されたイベントは「い」だ。
　巨大な魔物は、三つの動物が入れ混じった合成獣で、三つの豹頭を持ち、竜のような翼があり、尾には毒蛇が生えている。魔物はキマイラだ。
　キマイラの戦闘に勝つと、キマイラに勝利したというフラグを立てる。
　すると、次回以降はキマイラは登場せず、次からは、下に向かう階段を自由に使うことができる。
　プログラムとは抽象的で汎用的なもので、イベントには、ボーンアンデットではなく、お助けキャラのような妖精と他愛のないなぞなぞをしてもいいし、キマイラは実は友好的なキマイラで、キマイラの些細な、足の裏に針がささったから、それを抜いて欲しいなどの希望を叶えるだけで、下に向かえるのでもよい。
　いゆわる、トリガーやエントリーポイントを示すのがプログラムの汎用さであるといえる。
　ユサは前進のバグ取りを少ししながら、迷宮データの作成を始めた。
　迷宮のデータは単純に文字列である。
　正方形を基準とすることをまず決めた。
　開発メンバーで参考にしている、ウィザードリィは二〇マス四方である。
　一方で、世界樹は三五マス四方。
　世界樹のほうがマスは広いが、実は少し違うのだ。

　迷宮の方式は二つの方式がある。
　ひとつは板迷宮。
　ひとつは箱迷宮。
　ウィザードリィは板迷宮で、世界樹が箱迷宮だ。
　板と箱の違いは、迷宮のマスの使い方である。
　板迷宮は、どれだけ壁が増えても、移動マスが固定という特徴がある。さきのウィザードリィであれば、二〇マス四方であるから、四〇〇マス移動できる。
　一方で、箱迷宮は、壁が増えるごとに移動マスが減ってしまうという特徴がある。さきの世界樹であれば、三五マス四方であるから、一二二五マス。非常に多いが、その半分が壁であるなら、移動マスは六〇〇マス前後である。
　そして、板迷宮と箱迷宮では、プログラムの直感性が違う。
　板迷宮は、壁について考えるため、一マスに対して東西南北。加えて天井や床の情報も必要だ。つまり一マスにサイコロを展開した情報六つが必要である。四〇〇マスあれば、その定義量は二四〇〇程度だ。
　一方で、箱迷宮は、一マスに対して、壁か床かを定義する。この箱迷宮において、床と天井は同義となり、床に何かあって、天井に何かあるということはできないが、大抵、迷宮では、床に何かあれば天井には何もない。一マスが壁であれば、それは全て壁である。非常に厚みのある壁だろう。
　しかし見下ろし型のデータとした場合、箱迷宮は上から見下ろしたものと一致する。
　ドラクエなどの、見下ろし型のフィールドマップをそのまま自分視点にするとしたら、可能なのは、箱迷宮の方である。世界樹であれば、一二二五マスあれば、その定義量はマスと同じ程度だ。
　そうして、ユサが採用しているのは、直感的なデータが可能な箱迷宮の方である。
　本来ならば、開発リーダーであるビキに確認を取るところだろう。
　しかし、時刻は午前四時。
　ビキは自分を律し、規則正しい生活を心がけているというが、流石に起きていない。
　ユサは小さい頃からプログラムに馴染んでいる。ハッカソンのような、一日を二四時間と決めつけず、一気にコードを記述するほうが好きなタイプだ。
「箱迷宮は、事後報告っと」
　おどけながら、タイピングを続ける。

　ユサが次に作ったのは、文字列を二次元配列にするモジュールだ。
　これは、迷宮に類した文字列を読み込み、エックスに一、ワイに一と入力すると、該当した文字列を出力するものだ。
　文字列データと合わせるために、座標のとり方は、左上座標で、右に行くほどエックスが増え、下にいくほどワイが増える。
　プログラムの世界では、あらゆる数字は一ではなく〇から始まる。
　そして、ただの二次元配列を実装するだけであるから、縦と横の長さは変えてもいいのだが、同じにした。つまり、正方形のみである。
　次にできた二次元配列のモジュールをスケールアップさせる。
　加えるのは、ただの方角である。
　自分視点の迷宮を表示する場合、東西南北と云った絶対的なものではない。だから、見ている方向に対して回転させる必要がある。
　自分の一歩手前は、もし北を向いていれば、ワイをひとつ減らしたものがそうであるし、もし東を向いていれば、エックスをひとつ増やしたものがそうである。
　相対的なものと絶対的なものの変換は、この迷宮のプログラムでもっとも複雑なものだ。
　正方形にしたのにも、そこに理由がある。正方形の座標を回転させた場合、常に縦と横の長さは変わらない。
　方角を加えたモジュールは、配列全体を計算し直し回転させ、北を上にしたり東を上にしたりすることができる。
　その上で、一歩手前は、ワイをひとつ減らせばよい、と固定できるのだ。
　作ったマップモジュールを回転させる。
　矢印の方角は変えていないのに、上を北にしたり東にすると当然矢印は回転する。
「三行三マス程度でそれは確認することができる、かな」
　ユサは打った。
　＋＋＋
　＋Ａ＋
　＋＋＋
　しかしＡは変わらない。
　おかしいと思うが、すぐに気づいた。
「ああ、文字だからか」
　＋北＋
　西　東
　＋南＋
「これで」
　東西南北が回転すれば、拡張は成功である。
　文字列上で、試し、そのバグを取った。

　午前五時――。
「微妙な時間だなあ」
　ユサはあと二時間と見積もった。
　移動モジュール。マップモジュール。
　二つがあれば、文字列の世界で、迷宮探索できる。
　描画。自分視点の描画までいけると踏んでいたが、すこし甘かったようだ。
　ユサは、ビキにメールを打った。
　今日午後出社。すぐに迷宮探索のデモ。
「よし」
　ボタンを押す。
　もうユサの中で、時間はどうでもよくなっているが、周りがいる以上、多少は合わせなければならない。
　これで六時間確保できた、と安心したユサは、朝食をコンビニに買いに行き、ヨーグルトと栄養補給ゼリーを買った。
　一分で補給できる。
　そのまま、コンビニのクズカゴへ。
「さて」
　何か閃かないか、と期待してユサは外に行ったが、あまり効果がなかった。
　ワイヤーフレーム。自分視点の描画である。
　おそらくは、商用としては採用されないだろう。
　しかし、一昔前であれば一線級のプログラムであったはずだ。
　時間を見ると。いや、それよりも、メールが来ていた。
　メールには、怒気を示したと思われるものの次に、了解らしき文面。
　――あん？是が非でもデモをだせ。
「ビキって、こんな時間に起きてるの？」
　できてなかったら有給消化で、と予防線を張った。
　あと六時間である。

「とりあえず、最小でやろうか」
　ユサは腕まくりをした。
　まずは定義である。
　道、通路を示す。
　壁、壁を示す。
　上、上り階段を示す。
　下、下り階段を示す。
　扉、ただの扉を示す。
　東、一通扉。東は扉。逆は壁。西から東に移動できる。東から西は不可。
　西、一通扉。
　南、一通扉。
　北、一通扉。
　隠、隠し扉。壁に見えるだけで、移動可能。
　あいうえお、イベントシンボル。ひらがなのみ。
「落とし穴とか。いや、システム上は下り階段か」
　いや。
「イベントで穴に落とせばいいのか」
　落とし穴はそう多くはない。イベントに巻いても問題ないことにした。
　シンボルの定義が終わると、ワイヤーフレームの実装に取り掛かる。
　必要な文字は九文字だ。
　壁壁壁
　壁下道
　壁Ａ壁
　この表示は、目の前に下り階段があり、多くは壁だが、右に曲がる道が見えることになる。
　ユサはたった九文字で、ワイヤーフレームを表現できるシンプルさに、しばらく関心していたが、すぐさま現実に引き戻された。
「あー、一通扉」
　そう。一方通行の扉の場合、方角が必要である。
　自分視点の場合は、常に北を向いた状態となるが、この北とは絶対的な北のことではなく、上のことである。
　ユサは、念の為、もうひとつ実例を作ってみた。
　壁東壁
　壁　壁
　壁Ａ壁
「やっぱり方角いるよね」
　ユサは、ワイヤーフレームの関数を定義した。
　必要なパラメータは二つ。九文字と現在の方角。
　０１２
　３４５
　６７８
「常に七の位置に固定して」
　まず、拡張を加えたのは、マップモジュールだ。
　マップモジュールから、ワイヤーフレームに必要な九文字を抜き出す関数。
　そのためには、現在座標を方角つきで入力すればよい。
　その拡張を終えたあと、ルールモジュールを作成する。
　ルールモジュールは表示するしないを判定する単純なものだが、使い方によっては混乱をきたす。
　迷宮内の壁は、移動できないこともあるし移動できることもある。
　見え方と、実際の移動とは違う。
　この二つのルールをシンボルに加える必要があった。
「移動ルールと表示ルールにして」
　しばし、文字列上の迷宮で確認する。壁とあれば、そこへ進もうとすると、移動できなければよいのだ。
　時刻は七時。既に外は明るい。
「意外とかかったな」
　ルールモジュールにバグが含まれると、あらゆるものが混乱するため、チェックに時間を費やしたのだ。
「さて、方眼紙」
　次は、いよいよワイヤーフレーム、疑似立体である。
　疑似立体でよく使われるのは、一六マス四方の方眼紙であることを、ユサは知っていた。
　このサイズにすると、中央の壁が一〇マス四方で表現でき、さらには、十分の六の比率で、遠近を表現することになる。
　ワイヤーフレームである疑似立体は、消失点を中央にひとつ配置し、そこから正方形の角に線を引く。この交点を結ぶことで、立体的な壁を表現するものだ。いわゆる一点透視法の世界である。
　この単なる画像で表現された立体的な迷宮世界は、箱型迷宮の場合、データとして、九文字と方角で表現される。
　壁も道も扉も上り階段も下り階段も、そうして何かしらイベントを示すシンボルも。
　迷宮の全てである。
　ユサは最初こそ方眼紙に矩形を書き、その頂点の座標で白い線を描画していたが、やがて難題にぶつかる。
　扉の表現だ。
　扉は正面こそ、長方形で示すことができるものの、一点透視法の世界で側面は、ひし形に歪む。
　ひし形に歪んだところで、ただの線描を行っているだけだから、その四隅の座標が必要なのである。
　一六マスの世界では壁こそ整数となるが、やや小さな扉は少数点が含まれる。
「えっ、それ全部計算するの？」
　計算といっても、計算手法すら、全て違う。扉はもちろん、一点透視法の世界ですら遠くは徐々に小さくなる。せいぜい左右対称であるくらいだ。
　しかし、左右対称であっても、線描するわけで、座標は違う。
「あっ、これまずい」
　扉の座標があとどれくらい必要か概算すると、壁と同じだけあった。
　ユサはコンビニに逃げた。

　コンビニのウォークインに反射するのは自分の顔である。
　中性的な顔立ちのユサは、ともすれば女の子にすら見える。
　何も思いつかなかったら、作業だ。
　ユサは、抽象的なプログラムの世界にいるからか、データ入力といった泥臭い作業が苦手である。
　むしろ計算すら苦手で、それは数式を入力すれば、多くの場合、計算機が計算するし、間違いがないと思っているからだ。
「ただ壁を縮小したものだけどさ」
　今、ユサが詰まっているのは、扉である。
　扉の描画は壁と同様の作業量が必要である。
　いや、作業で解決するけど。
　それが一番嫌である。
　もっとしっくりくるアイデアがあるはずだ。
　それはプログラム的で計算機が計算すればよいといったような。
　ユサは数字を見るのを諦めてみた。
　中央に壁があって、これは単純な四角形のワイヤーフレーム。
　この壁らしき白い枠を扉にするには――。
　まず、縮小。
　ただ、それだけでは扉にならず、中央にできた穴にしか見えない。
　穴、というか、奥の壁？
　何か、触れた。
　扉にするには、それを少し下に下げればよい。下げる量は、扉の長さが壁の長さの七割くらいだから、三割下げれば――。
「ぴったりかな」
　しかし、閃きが逃げていった気がしないでもない。
　扉を諦めた。
　前の前の壁を、奥の壁にするには。
　中央の壁だけ使って。
　一六マス世界では、縮小の比率は一〇分の六。
「じゃあ、その比率分縮小すれば、手前の壁と奥の壁になるんじゃ」
　おっ。
　ユサは掴んだ。
　おやつに、七九円のぷちドーナツなる商品を買った。

　ユサは戻って、ワイヤーフレームの半分完成したものを消そうと思った。
　しかし、我に返って、ワイヤーフレーム・オールドと関数名を変えた。
　そして中央の壁に、中央だけ描画した。
　これを右に移動して比率で拡大すれば、右下の壁になる。
　これをそのまま縮小すれば、奥の壁になる。
「よし、よし」
　確認して比率で拡大縮小と移動を加えるだけで中央の描画内容どおりに九つすべて描画できるのを確認した。
　しかも、縮小は線が細くなっているから、より鮮明に立体感があった。
　中央さえ描画できれば、あとは全てトランスフォームで可能なのだ。
　とすると、最初のワイヤーフレームより、定義する角の座標は減った。
　半分以下になったのだから、驚きだ。
「生兵法だねえ」
　ユサは、学生時代に理解したワイヤーフレームの話にケチを付けた。

「ユサできたのか」
「お昼に行列ができてるラーメン食べるくらい余裕だったよ」
「それは、期待できるな」
　目の前にいるのは、ビキだ。
「ユサや」
　さらに隣りにいるのは、御曹司とクロバラだ。
「家で仕事をするなとは云わぬ。時代はそうではなくなってるからのう」
「ユサ、御曹司が云うにはね、御曹司が社員を食わせているから、仕事の給料は全て払いたいらしいの。いや、そういうのってなあなあな企業多いけど」
「ああ、ゲーム業界は最後の追い込みなど、出退勤無視だろうからな」
「バグ取りの話？」
「ああ」
「僕、したことないけどね」
「だから、引き抜いたんじゃ」
「それで、ユサ、見事動いたら、今日は出社したことにしていいって」
「まあ、どっちでもいいけどね」
　ユサはまず定義した文章を渡した。
　迷宮のシンボルを示したものだ。
「おっ、わらわも迷宮を作れるのかや」
「そうだね。デモだから、一、一の座標から始まるから、そこから始まるよ」
「了解じゃ」
「で、えっと、プラスが壁で、道が何もない道だけど、面倒なら空白でもいいよ。全角の空白ね」
「全角の空白とはなんぞ？」
「ああ、ローマ字の空白文字と日本語の空白文字って実は別の文字って話だよ」
「ほう。とりま、日本語入力すればよいと」
「ユサ、多言語化とかはどうするんだ？」
「多言語化するのは、迷宮の構造じゃなくて、迷宮のメッセージだよね」
「つまり、迷宮のデータを日本語の文字列にしても、問題ないのか」
「そうだね、むしろ漢字含めれば、何万文字もあるから、イベントは尽きないくらい定義できるよ」
「ユサ、わらわは、いきなり強敵を配置して、初見殺しをしたい」
「ああ、それは最終的に可能だろうけど、メッセージを表示するとかは、イベントだから、イベントシンボルしかデモでは表示できないよ」
「そうなのかえ」
「それは、シンボルをトリガーにした、メッセージとか魔物の絵の表示とかは、別のモジュールだよ。いわゆるシナリオスクリプトだね」
　デモは御曹司がマップを作り、始まった。
　＋＋＋＋＋
　＋上東あ＋
　＋　＋　＋
　＋　扉　＋
　＋＋＋＋＋
「これでどうじゃ」
「じゃあ、それで」
　ユサが文字列を打ち込み実行すると、いきなり天井に階段が表示された。
　そうしてしばらく進むと、扉がある。
「ユサ、扉が開かぬぞ」
「ああ、えっとね、ウィザードリィがそうだけど、十字キーじゃ扉は開かないんだよ。扉を開けるには、蹴破らないとね、Ａボタンを押すと蹴破ることになるね」
「なるほど」
　無事扉が開いた。　
　ワイヤーフレームの世界は黒と白の世界だ。
　迷宮のほの暗さを表現するには最適だろう。そして注視するように色彩ある魔物が現れ、それが魅力を放つのが、ウィザードリィである。
「下り階段が見えるぞ」
「いや、それは床のイベントシンボルだね。上り階段がそうだったと思うけど、階段は四角い枠を塗りつぶしたもので、塗りつぶさない枠がイベントシンボルだ」
「そうして、わらわは知っておる。この隣は一方通行の扉があると」
「ああ」
「ぬぉ、ないぞ。バグかや」
「それは御曹司のバグですね」
　クロバラが冷たく言い放つ。
「なんぞ？」
「えー、ユサの定義によると、東、のシンボルは東側に通り抜け可能な一方通行シンボルで、東側からこれを見ると扉がありますが、西側からこれを見ると壁になります。つまり、現在地から見ているのは西側ですから、表示されるのは壁で正しいと」
「正しいということだな」
　ビキが、ややホッとしたながら再度確認する。
「うむ。では、よくやったユサ。条件通り午前中の給料を払おう」
「午前中はでるの？」
「そうじゃ、わらわに二言はない」
「じゃあ、午前四時から作り始めたから、その時間からよろしく」
　ユサはおどけた。